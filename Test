package com.epay.transaction.controller;

import com.epay.transaction.model.request.EncryptedRequest;
import com.epay.transaction.model.response.EncryptedResponse;
import com.epay.transaction.model.response.TransactionResponse;
import com.epay.transaction.service.CardPaymentService;
import com.sbi.epay.logging.utility.LoggerFactoryUtility;
import com.sbi.epay.logging.utility.LoggerUtility;
import io.swagger.v3.oas.annotations.Operation;
import jakarta.validation.Valid;
import lombok.AllArgsConstructor;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

/**
 * Class Name: CardsPaymentController
 * *
 * Description:
 * *
 * Author: V1018217
 * Copyright (c) 2025 [State Bank of India]
 * All rights reserved
 * *
 * Version:1.0
 */
@RestController
@AllArgsConstructor
@RequestMapping("/cards")

public class CardsPaymentController {
    private final LoggerUtility logger = LoggerFactoryUtility.getLogger(this.getClass());
    private final CardPaymentService cardPaymentService;

    @PostMapping("/binCheck")
    @Operation(summary = "Card Number Verification")
    public TransactionResponse<EncryptedResponse> binCheck(@Valid @RequestBody EncryptedRequest encryptedRequest) {
        logger.info(" checking the binCheck request : " + encryptedRequest);
        return cardPaymentService.getCardBinCheck(encryptedRequest);
    }

}
