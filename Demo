package com.epay.transaction.externalservice;

import com.epay.transaction.client.ApiClient;
import com.epay.transaction.externalservice.request.payment.*;
import com.epay.transaction.externalservice.response.payment.*;
import com.epay.transaction.model.response.TransactionResponse;
import org.springframework.core.ParameterizedTypeReference;

/**
 * Class Name:PaymentServicesClient
 * *
 * Description:
 * *
 * Author:V1014352(Ranjan Kumar)
 * <p>
 * Copyright (c) 2025 [State Bank of INdia]
 * All right reserved
 * *
 * Version:1.0
 */

public class PaymentServicesClient extends ApiClient {

    public static final String VPA_API_ENDPOINT = "/sbi/upi/vpa/validate-vpa";
    public static final String INB_API_ENDPOINT = "/sbi/inb/initiate";
    public static final String OTHER_INB_API_ENDPOINT = "/otherInbService/initiate";
    public static final String VISA_MASTER_CARD_API_ENDPOINT = "/initiation/cardauthentication/visamaster";
    public static final String RUPAY_CARD_API_ENDPOINT = "/initiation/cardauthentication/rupay";
    public static final String UPI_VPA_ENDPOINT = "/sbi/upi/vpa/collect";
    public static final String UPI_QR_ENDPOINT = "/sbi/upi/qr/sign";
    public static final String GET_UPI_STATUS_DETAILS = "/sbi/upi/vpa/txn/status";

    public PaymentServicesClient(String baseUrl) {
        super(baseUrl);
    }

    public TransactionResponse<PaymentUPIVpaResponse> validateUPIPaymentVpa(PaymentUPIVpaRequest paymentRequest) {
        return post(VPA_API_ENDPOINT, paymentRequest, new ParameterizedTypeReference<TransactionResponse<PaymentUPIVpaResponse>>() {});
    }

    public TransactionResponse<PaymentOtherInbResponse> initiateOtherINBPayments(PaymentOtherINBReqest paymentRequest) {
        return post(OTHER_INB_API_ENDPOINT, paymentRequest, new ParameterizedTypeReference<TransactionResponse<PaymentOtherInbResponse>>() {});
    }

    public TransactionResponse<PaymentResponse> initiateSBIINBPayments(PaymentINBRequest paymentRequest) {
        return post(INB_API_ENDPOINT, paymentRequest, new ParameterizedTypeReference<>() {});
    }

    public TransactionResponse<PaymentVisaCardResponse> initiateVisaAndMasterCardAPI(PaymentCardRequest paymentRequest) {
        return post(VISA_MASTER_CARD_API_ENDPOINT, paymentRequest, new ParameterizedTypeReference<>() {});
    }

    public TransactionResponse<PaymentRupayCardResponse> initiateRupPayCardAPI(PaymentCardRequest paymentRequest) {
        return post(RUPAY_CARD_API_ENDPOINT, paymentRequest, new ParameterizedTypeReference<>() {});
    }

    public TransactionResponse<PaymentUPIVpaCollectGatewayResponse> initiateUPIVPAPayments(PaymentUPIRequest paymentRequest) {
        return post(UPI_VPA_ENDPOINT, paymentRequest, new ParameterizedTypeReference<>() {});
    }

    public TransactionResponse<PaymentUPIStatusResponse> upiPaymentStatusEnquiry(PaymentStatusRequest paymentRequest) {
        return post(GET_UPI_STATUS_DETAILS, paymentRequest, new ParameterizedTypeReference<>() {});
    }

    public TransactionResponse<PaymentQRResponse> initiateUPIQRPayments(PaymentUPIQRRequest paymentRequest) {
        return post(UPI_QR_ENDPOINT, paymentRequest, new ParameterizedTypeReference<>() {});
    }

}
